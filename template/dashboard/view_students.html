{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">Admin Dashboard</h1>
    <head>
        <!-- Bootstrap Icons CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    </head>
    <!-- Qidiruv Formasi -->
    <form method="GET">
        <div class="d-flex align-items-center mb-4">
            <div class="input-group">
                <input type="text" name="search" class="form-control" placeholder="Search by username, first name or last name" value="{{ request.GET.search }}">
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-search"></i> Search
                </button>
            </div>
        </div>
    </form>

    <!-- Talabalar Jadvali -->
    <table class="table table-hover table-bordered">
        <thead class="table-dark">
            <tr>
                <th>Username</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Current Level</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for info in student_info %}
            <tr>
                <td>{{ info.student.user.username }}</td>
                <td>{{ info.student.user.first_name }}</td>
                <td>{{ info.student.user.last_name }}</td>
                <td>{{ info.current_level }}</td>
                <td>
                    <a href="{% url 'view_student_levels' info.student.id %}" class="btn btn-info btn-sm">
                        View Details
                    </a>
                </td>
            </tr>
            {% empty %}
                <tr>
                    <td colspan="5" class="text-center">No students found.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
